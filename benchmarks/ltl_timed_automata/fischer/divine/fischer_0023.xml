<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_2.dtd'>
<nta>
<declaration>typedef int[0,23] pid_t;int id;const int k = 2;</declaration>
<template>
    <name>P</name>
    <parameter>const pid_t pid</parameter>
    <declaration>clock x;</declaration>
    <location id="id0">
        <name>wait</name>
    </location>
    <location id="id1">
        <name>req</name>
        <label kind="invariant">x&lt;=k</label>
    </location>
    <location id="id2">
        <name>idle</name>
    </location>
    <location id="id3">
        <name>cs</name>
    </location>
    <init ref="id2"/>
    <transition>
        <source ref="id0"/>
        <target ref="id2"/>
        <label kind="guard">x &gt; k &amp;&amp; id != pid</label>
        <label kind="assignment">x = 0</label>
    </transition>
    <transition>
        <source ref="id2"/>
        <target ref="id1"/>
        <label kind="guard">id== 0</label>
        <label kind="assignment">x = 0</label>
    </transition>
    <transition>
        <source ref="id1"/>
        <target ref="id0"/>
        <label kind="guard">x&lt;=k</label>
        <label kind="assignment">x = 0,id = pid</label>
    </transition>
    <transition>
        <source ref="id0"/>
        <target ref="id3"/>
        <label kind="guard">x&gt;k &amp;&amp; id==pid</label>
    </transition>
    <transition>
        <source ref="id3"/>
        <target ref="id2"/>
        <label kind="assignment">id = 0</label>
    </transition>
</template>
<system>P0 = P(0);P1 = P(1);P2 = P(2);P3 = P(3);P4 = P(4);P5 = P(5);P6 = P(6);P7 = P(7);P8 = P(8);P9 = P(9);P10 = P(10);P11 = P(11);P12 = P(12);P13 = P(13);P14 = P(14);P15 = P(15);P16 = P(16);P17 = P(17);P18 = P(18);P19 = P(19);P20 = P(20);P21 = P(21);P22 = P(22); system P0, P1, P2, P3, P4, P5, P6, P7, P8, P9, P10, P11, P12, P13, P14, P15, P16, P17, P18, P19, P20, P21, P22;</system>
</nta>
